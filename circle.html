<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle with Data</title>
</head>
<body>
    <canvas id="myCanvas" width="40" height="40"></canvas>

    <script>
        var data_1 = {
            "Red": 5,
            "Green": 5
        }

        var data_2 = {
            "Red": 5,
        }

        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        function drawHalfCircle(color, radius, startAngle, endAngle, text, percentage) {

            ctx.beginPath();
            ctx.arc(canvas.width / 2, canvas.height / 2, radius, startAngle, endAngle);
            ctx.fillStyle = color;
            ctx.fill();

            ctx.font = "20px Arial";
            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            if (percentage == 0.5){
                if (startAngle == Math.PI / 2){
                    ctx.fillText(text, canvas.width / 4.0,  canvas.height / 2.0);
                }else{
                    ctx.fillText(text, canvas.width / 4 * 3,  canvas.height / 2.0);
                }
            }else{
                ctx.fillText(text, canvas.width / 2.0,  canvas.height / 2.0);
            }

            
        }

        function drawData(data) {
            if (Object.keys(data).length == 2){
                var percentage = 0.5;
            }else{
                var percentage = 1;
            }
            var totalValue = 0;

            for (var key in data) {
                totalValue += data[key];
            }

            var startAngle = Math.PI /2 ;

            for (var key in data) {
                
                var endAngle = startAngle + percentage * Math.PI * 2;
                var labelText =data[key];
                drawHalfCircle(key, canvas.width / 2, startAngle, endAngle, labelText, percentage);
                startAngle = endAngle;
            }
        }

        // Draw Green on the left half and Red on the right half with numbers
        drawData(data_1);
    </script>
</body>
</html>
